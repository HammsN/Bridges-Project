<script>
    document.addEventListener("DOMContentLoaded", () => {
        const sections = document.querySelectorAll("section[id]");
        const navLinks = document.querySelectorAll(".nav-link");

        const observer = new IntersectionObserver(
            entries => {
                entries.forEach(entry => {
                    const id = entry.target.getAttribute("id");
                    const navLink = document.querySelector(`.nav-link[href="#${id}"]`);

                    if (entry.isIntersecting) {
                        navLinks.forEach(link => link.classList.remove("selected"));
                        if (navLink) navLink.classList.add("selected");
                    }
                });
            },
            {
                root: null,
                rootMargin: "0px 0px -60% 0px", // Trigger when section is ~40% in viewport
                threshold: 0.4
            }
        );

        sections.forEach(section => observer.observe(section));
    });
</script>

const container = document.getElementById("bridgeContainer");

bridgeData.forEach(({ title, region, image }) => {
  const card = document.createElement("div");
  card.className = "card m-2";
  card.setAttribute("data-region", region);
  card.innerHTML = `
    <div class="image-wrapper">
      <img src="${image}" alt="Bridge" class="card-img-top">
    </div>
    <div class="card-body">
      <h5 class="card-title">${title}</h5>
      <p class="card-text">Formus Lorem Ipsum Bidaciousness. Make up the bulk NOW.</p>
      <a href="#" class="btn btn-link">Read more</a>
    </div>
  `;
  container.appendChild(card);
});